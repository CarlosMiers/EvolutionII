<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="vencimiento_cheques" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="bbbb92bd-902b-4c6e-9b99-70fd8d6740d3">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="FechaInicio" class="java.util.Date"/>
	<parameter name="FechaFinal" class="java.util.Date"/>
	<parameter name="cNombreEmpresa" class="java.lang.String"/>
	<parameter name="cNombreCliente" class="java.lang.String"/>
	<parameter name="nCliente" class="java.lang.String"/>
	<parameter name="nMoneda" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT IFNULL(detalle_descuento_documentos.nrodocumento,0) AS nrodocumento,detalle_descuento_documentos.compra,detalle_descuento_documentos.vencimiento,
detalle_descuento_documentos.cargobanco,bancos.nombre AS nombrebanco,cuenta_clientes.importe,cuenta_clientes.saldo,clientes.codigo AS cliente,clientes.nombre AS nombrecliente,
monedas.codigo AS moneda,detalle_descuento_documentos.librador AS beneficiario,detalle_descuento_documentos.comprobante
FROM cuenta_clientes
LEFT JOIN detalle_descuento_documentos
ON detalle_descuento_documentos.nrodocumento=cuenta_clientes.documento
LEFT JOIN clientes
ON clientes.codigo=cuenta_clientes.cliente
LEFT JOIN bancos
ON bancos.codigo=detalle_descuento_documentos.cargobanco
LEFT JOIN monedas
ON monedas.codigo=cuenta_clientes.moneda
WHERE detalle_descuento_documentos.vencimiento BETWEEN $P{FechaInicio} AND $P{FechaFinal}
AND IF($P{nCliente}<>0,cuenta_clientes.cliente=$P{nCliente},TRUE)
AND cuenta_clientes.moneda=$P{nMoneda}
AND cuenta_clientes.saldo<>0
AND detalle_descuento_documentos.comprobante=10
ORDER BY detalle_descuento_documentos.nrodocumento,detalle_descuento_documentos.vencimiento]]>
	</queryString>
	<field name="nrodocumento" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="compra" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="vencimiento" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cargobanco" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombrebanco" class="java.lang.String"/>
	<field name="importe" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="saldo" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cliente" class="java.lang.Integer"/>
	<field name="nombrecliente" class="java.lang.String"/>
	<field name="moneda" class="java.lang.Integer"/>
	<field name="beneficiario" class="java.lang.String"/>
	<field name="comprobante" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="importe_1" class="java.math.BigDecimal" resetType="Group" resetGroup="cliente" calculation="Sum">
		<variableExpression><![CDATA[$F{importe}]]></variableExpression>
	</variable>
	<variable name="importe_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{importe}]]></variableExpression>
	</variable>
	<group name="cliente" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{cliente}]]></groupExpression>
		<groupHeader>
			<band height="53">
				<staticText>
					<reportElement x="1" y="40" width="61" height="12" uuid="8754c578-969a-483c-994b-bf32b8cba6f7"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[N° de Cheque]]></text>
				</staticText>
				<staticText>
					<reportElement x="450" y="37" width="52" height="12" uuid="63166913-c732-496e-a727-208a053b8113"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Beneficiario]]></text>
				</staticText>
				<staticText>
					<reportElement x="139" y="25" width="32" height="12" uuid="2ee84ba6-4cb7-4671-b3eb-114be4ad3ce1"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Fecha]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="52" width="553" height="1" uuid="78eeeec0-c075-477b-a58e-eb01ce6ea097"/>
				</line>
				<staticText>
					<reportElement x="135" y="39" width="59" height="12" uuid="6fe7bd7a-9a47-4c53-aca4-81d22b3ebb5e"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Vencimiento]]></text>
				</staticText>
				<staticText>
					<reportElement x="243" y="39" width="25" height="12" uuid="c43981f0-842d-420b-b229-b7f9f9bad718"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Banco]]></text>
				</staticText>
				<staticText>
					<reportElement x="351" y="38" width="44" height="12" uuid="2a381aee-d9a9-475a-abf6-e318d89f5e4c"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Importe]]></text>
				</staticText>
				<line>
					<reportElement x="1" y="21" width="554" height="1" uuid="c4417fea-5fb0-41d3-9786-859608a6ed53"/>
				</line>
				<staticText>
					<reportElement x="84" y="39" width="43" height="12" uuid="16c27e4d-d005-4d5d-a0f5-11521c30693e"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Compra]]></text>
				</staticText>
				<textField>
					<reportElement x="4" y="5" width="145" height="12" uuid="97d35338-15ad-4ab3-84a7-4bd13e165830"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nombrecliente}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="2" y="1" width="554" height="1" uuid="46bff230-12e1-4cb6-ba23-a655f526f786"/>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="16">
				<line>
					<reportElement x="1" y="1" width="553" height="1" uuid="1b2ba64f-99c8-433b-910f-8bd9d49c4bfd"/>
				</line>
				<textField>
					<reportElement x="3" y="4" width="234" height="12" uuid="787672a8-dd85-4098-bc69-47e21ce63abd"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA["Subtotales: "+$F{nombrecliente}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00">
					<reportElement x="327" y="5" width="72" height="10" uuid="2e49af23-2f4e-4626-81b3-23c4994d6511"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="7"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{importe_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="56" splitType="Stretch">
			<staticText>
				<reportElement x="5" y="25" width="202" height="16" uuid="af49efc8-e8fe-45ef-83ad-effd0e128080"/>
				<textElement textAlignment="Justified">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Vencimiento Cartera por Cheque]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="6" y="5" width="180" height="16" uuid="b9b77e67-08e4-4cb4-99a6-86a6fcc1e95b"/>
				<textElement>
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{cNombreEmpresa}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="131" y="43" width="50" height="12" uuid="ceae71fa-e1fa-4093-8cc0-f872ace8e00b"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[HASTA  EL:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="184" y="43" width="41" height="13" uuid="dc816bbd-0f6c-4faa-9fa6-1eafb1a4dec7"/>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaFinal}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="50" y="43" width="50" height="12" uuid="5d61d605-75b3-48c9-b5d7-da2289996bbc"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaInicio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="431" y="9" width="114" height="12" uuid="423c236e-aec4-45fc-9a6b-7dab2acd4071"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="5" y="43" width="45" height="12" uuid="c6cdbbec-da08-4ecb-a472-513f0242670d"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DESDE EL:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="136" y="2" width="58" height="10" uuid="a87f60a9-6539-4606-962d-3a8ddb2e270d"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{vencimiento}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="3" y="2" width="59" height="10" uuid="ba7e8ffe-b77f-4590-82a4-73ba4027c119"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nrodocumento}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="66" y="2" width="62" height="10" uuid="5f98e0ee-f636-4739-b020-acf7c1be9992"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{compra}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="209" y="2" width="110" height="10" uuid="beba94d8-1f89-4ca5-a1ba-2e6d6827809a"/>
				<textElement>
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombrebanco}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="328" y="2" width="70" height="10" uuid="7600f84c-6287-4f80-8d81-39ecb9843f6b"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{importe}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="406" y="2" width="145" height="10" uuid="6ed88bf0-5c9d-4284-9282-1e29269c27d1"/>
				<textElement>
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{beneficiario}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="51" splitType="Stretch">
			<line>
				<reportElement x="2" y="0" width="553" height="1" uuid="b8ab1d10-ac89-41df-acb9-273fbc7c8d5a"/>
			</line>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="138" y="15" width="69" height="12" uuid="b0d6ef03-522b-4d6d-8e08-a7443d25f81a"/>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="2" y="15" width="131" height="12" uuid="28794862-49b4-4b0b-aefa-6298ffdc21e5"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Fin del Informe / Impreso el]]></text>
			</staticText>
			<line>
				<reportElement x="1" y="37" width="554" height="1" uuid="8faaaeea-e0d1-4555-8440-b144cc0c2ac0"/>
			</line>
			<staticText>
				<reportElement x="216" y="16" width="96" height="12" uuid="c5a4ccc2-00cd-430d-ae6c-d5a137e05637"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total General de Importe]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="326" y="17" width="74" height="10" uuid="c1dc279f-976f-4c5b-9879-82dd79cc9dc3"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{importe_2}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
