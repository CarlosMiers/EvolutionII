<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="detalle_factura_rosmar" pageWidth="595" pageHeight="340" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="0f94f723-7961-40b6-9bfb-d9fc8f92950c">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="245"/>
	<property name="ireport.y" value="0"/>
	<parameter name="cReferencia" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT cabecera_ventas.cliente,dreferencia,codprod,cantidad,
comentario,precio,monto,impiva,CAST(porcentaje AS CHAR) iva,
productos.nombre,clientes.programa,productos.codigobarra
FROM cabecera_ventas
LEFT JOIN clientes
ON clientes.codigo=cabecera_ventas.cliente
LEFT JOIN detalle_ventas
ON detalle_ventas.dreferencia=cabecera_ventas.creferencia
INNER JOIN productos
ON productos.codigo=detalle_ventas.codprod
WHERE detalle_ventas.dreferencia=$P{cReferencia}]]>
	</queryString>
	<field name="cliente" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dreferencia" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codprod" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cantidad" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="comentario" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="precio" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="monto" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="impiva" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="iva" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="programa" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigobarra" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="16" splitType="Stretch">
			<textField pattern="###0">
				<reportElement x="97" y="2" width="30" height="11" uuid="833114a9-7edb-4c0c-82c8-18ca3183b624"/>
				<textElement textAlignment="Right">
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="141" y="2" width="193" height="11" uuid="eb62fa14-d0f4-4a91-9f15-69a470eca25c"/>
				<textElement>
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombre}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="339" y="2" width="54" height="11" uuid="b6d98c62-6f10-4603-a8c6-dd90ef7fa4a8"/>
				<textElement textAlignment="Right">
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="465" y="2" width="58" height="11" uuid="c47aef31-2d4b-4861-9b1c-ac9b6501d021">
					<printWhenExpression><![CDATA[$F{iva}.equals( "10.00")]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="24" y="2" width="69" height="11" uuid="797d934f-ea9e-48b3-aa1c-a637aec30914">
					<printWhenExpression><![CDATA[$F{programa}.equals( new Integer(0))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codprod}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="24" y="2" width="69" height="13" uuid="20c8e24d-4cf4-4913-a804-45415e4fe6b9">
					<printWhenExpression><![CDATA[$F{programa}.equals( new Integer(1))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font fontName="Lucida Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codigobarra}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
