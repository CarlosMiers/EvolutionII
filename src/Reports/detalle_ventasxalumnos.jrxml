<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="detalle_ventasxalumnos" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6034848f-e095-4fb9-a25c-057dfebd9eaf">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="cNombreEmpresa" class="java.lang.String"/>
	<parameter name="FechaI" class="java.util.Date"/>
	<parameter name="FechaF" class="java.util.Date"/>
	<parameter name="cliente" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT  cabecera_ventas.factura,codprod,productos.nombre AS nombreproducto,
cabecera_ventas.formatofactura,
cantidad,detalle_ventas.precio,monto,
rubros.codigo,rubros.nombre AS nombrerubro,
cabecera_ventas.fecha,moneda,monedas.nombre AS nombremoneda,
detalle_ventas.impiva,
detalle_ventas.porcentaje,cliente,clientes.nombre AS nombrecliente,
sucursales.nombre AS nombresucursal,
vendedores.nombre AS nombrevendedor
FROM cabecera_ventas
LEFT JOIN clientes
ON clientes.codigo=cabecera_ventas.cliente
LEFT JOIN sucursales
ON sucursales.codigo=cabecera_ventas.sucursal
LEFT JOIN monedas
ON monedas.codigo=cabecera_ventas.moneda
LEFT JOIN vendedores
ON vendedores.codigo=cabecera_ventas.vendedor
LEFT JOIN detalle_ventas
ON detalle_ventas.dreferencia=cabecera_ventas.creferencia
LEFT JOIN productos
ON productos.codigo=detalle_ventas.codprod
LEFT JOIN rubros
ON rubros.codigo=productos.rubro
 WHERE cabecera_ventas.fecha BETWEEN $P{FechaI} AND $P{FechaF}
 AND cabecera_ventas.cliente=$P{cliente}
ORDER BY cabecera_ventas.cliente,cabecera_ventas.factura]]>
	</queryString>
	<field name="factura" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codprod" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombreproducto" class="java.lang.String"/>
	<field name="formatofactura" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cantidad" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="precio" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="monto" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="codigo" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombrerubro" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="moneda" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombremoneda" class="java.lang.String"/>
	<field name="impiva" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="porcentaje" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cliente" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombrecliente" class="java.lang.String"/>
	<field name="nombresucursal" class="java.lang.String"/>
	<field name="nombrevendedor" class="java.lang.String"/>
	<variable name="total_1" class="java.lang.Double" resetType="Group" resetGroup="cliente" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="total_2" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="total_3" class="java.lang.Double" resetType="Group" resetGroup="cliente" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="total_4" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="total_5" class="java.lang.Double" resetType="Group" resetGroup="cliente" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="total_6" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<variable name="impiva_1" class="java.math.BigDecimal" resetType="Group" resetGroup="factura" calculation="Sum">
		<variableExpression><![CDATA[$F{impiva}]]></variableExpression>
	</variable>
	<variable name="monto_1" class="java.math.BigDecimal" resetType="Group" resetGroup="factura" calculation="Sum">
		<variableExpression><![CDATA[$F{monto}]]></variableExpression>
	</variable>
	<group name="cliente" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{cliente}]]></groupExpression>
		<groupHeader>
			<band height="25">
				<line>
					<reportElement x="0" y="1" width="549" height="1" uuid="e179cc01-6842-4fa2-85f5-467219e09ee7"/>
				</line>
				<line>
					<reportElement x="0" y="24" width="549" height="1" uuid="5fc73ab2-51b6-4e9d-bd20-826521e9de37"/>
				</line>
				<staticText>
					<reportElement x="4" y="10" width="27" height="10" uuid="b24ef488-2a1a-44f7-b9d1-fc17fe6fd231"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Cliente:]]></text>
				</staticText>
				<textField>
					<reportElement x="33" y="10" width="212" height="11" uuid="ca26ade0-0cca-40dd-9ea2-07b5b3ac00e1"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{cliente} + "    " + $F{nombrecliente}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17">
				<textField evaluationTime="Group" evaluationGroup="cliente" pattern="#,##0.00">
					<reportElement x="477" y="3" width="69" height="14" uuid="4ba73d0d-5eeb-4011-b8ad-d48911db90ce"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{total_5}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="168" y="3" width="212" height="11" uuid="1e7dae16-5288-4641-beaa-cdba8bd509fd"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Total Cliente "+$F{cliente} + "    " + $F{nombrecliente}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="factura" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{factura}]]></groupExpression>
		<groupHeader>
			<band height="45">
				<textField pattern="dd/MM/yyyy">
					<reportElement x="102" y="15" width="47" height="12" uuid="42324b06-3d6d-4c98-ab18-0786b039ef1e"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
				</textField>
				<textField pattern="###0">
					<reportElement x="3" y="15" width="72" height="12" uuid="dbb80ebb-d75d-4555-92b9-f374ea149dce"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{formatofactura}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="8" y="3" width="40" height="10" uuid="5a3cf90d-7517-4aae-84c8-c79245e227da"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Factura]]></text>
				</staticText>
				<staticText>
					<reportElement x="102" y="3" width="40" height="10" uuid="5c9663c3-702b-4019-afd9-35ca25e19135"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Fecha]]></text>
				</staticText>
				<textField>
					<reportElement x="154" y="15" width="97" height="12" uuid="867e7762-dcd0-4909-9044-f42a0f41a590"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nombresucursal}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="156" y="3" width="40" height="10" uuid="17523ab5-bd71-42a8-ae50-031cd545b90f"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Sucursal]]></text>
				</staticText>
				<staticText>
					<reportElement x="319" y="3" width="40" height="10" uuid="0544f531-ba79-4f49-b2b4-afe2cfe0017b"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Vendedor]]></text>
				</staticText>
				<textField>
					<reportElement x="319" y="15" width="97" height="12" uuid="5fbb5a3d-1bf8-43d3-bce8-1dabfd241e0e"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nombrevendedor}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="245" y="32" width="41" height="10" uuid="73d7a65d-404d-4599-9b17-c21ce1c1cbf5"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Cantidad]]></text>
				</staticText>
				<staticText>
					<reportElement x="21" y="32" width="35" height="10" uuid="800b7a90-4c16-44fe-94c8-a4a9143450d3"/>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="7" isBold="true"/>
					</textElement>
					<text><![CDATA[Código]]></text>
				</staticText>
				<staticText>
					<reportElement x="75" y="32" width="89" height="10" uuid="0e0d25bd-894d-436e-82f5-02cec2520cb2"/>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="7" isBold="true"/>
					</textElement>
					<text><![CDATA[Nombre de Producto]]></text>
				</staticText>
				<staticText>
					<reportElement x="303" y="32" width="48" height="10" uuid="2a389cad-7dde-4ab9-a602-bbb216fde7c3"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Precio]]></text>
				</staticText>
				<staticText>
					<reportElement x="367" y="32" width="24" height="10" uuid="d2cccb51-f71b-48b6-a46b-522e0f62fc46"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[%IVA]]></text>
				</staticText>
				<staticText>
					<reportElement x="496" y="32" width="44" height="10" uuid="c1a2bcbd-e3b8-4a53-a272-0a80f1300a29"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Total Item]]></text>
				</staticText>
				<staticText>
					<reportElement x="414" y="32" width="44" height="10" uuid="60b638a6-a802-442f-a5c0-cf9b98ed117a"/>
					<textElement textAlignment="Center">
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[IVA]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="43" width="549" height="1" uuid="cd43329f-ca36-4f38-a575-9942cdefda46"/>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="21">
				<textField evaluationTime="Group" evaluationGroup="factura" pattern="#,##0.00">
					<reportElement x="402" y="5" width="56" height="10" uuid="49a35a3c-9eb7-40b1-bd05-67bbb629aab2"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{impiva_1}]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="factura" pattern="#,##0.00">
					<reportElement x="477" y="5" width="69" height="10" uuid="9b6229ac-937c-476a-b276-cbcf69bcaec1"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{monto_1}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="1" y="19" width="549" height="1" uuid="b1dc78e1-8218-48cc-811d-3df8d52a6138"/>
				</line>
				<line>
					<reportElement x="0" y="2" width="549" height="1" uuid="38e26c93-e5a2-4d7e-94cd-40d19b437bb5"/>
				</line>
				<textField>
					<reportElement x="165" y="5" width="212" height="11" uuid="caa3ac73-c307-43db-a493-0336c85852f6"/>
					<textElement>
						<font fontName="Arial" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Total Factura  " + $F{formatofactura}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="2" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="55" splitType="Stretch">
			<staticText>
				<reportElement x="9" y="21" width="181" height="16" uuid="1c2fec0f-e19d-4a5b-8afd-44fa5760de93"/>
				<textElement textAlignment="Justified">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Detalle de Venta por Cliente]]></text>
			</staticText>
			<textField>
				<reportElement x="9" y="5" width="181" height="15" uuid="00a6fb42-4341-4a40-995c-ba57374b48d7"/>
				<textElement>
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{cNombreEmpresa}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="477" y="31" width="31" height="11" uuid="d6936019-1819-4974-b706-2a3ba5fe6abd"/>
				<textElement>
					<font fontName="Arial" size="8" isUnderline="false" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Fecha :]]></text>
			</staticText>
			<textField pattern="d/M/yyyy">
				<reportElement x="509" y="31" width="45" height="12" uuid="5f33e8aa-85bd-4819-9102-ad0777ce134e"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="516" y="8" width="40" height="20" uuid="7d51b83c-330d-40df-85b5-daa9ebce86ce"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="341" y="8" width="174" height="20" uuid="8439d3d9-8a7e-450d-8de1-e40f951e6f05"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER}+" de "]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="120" y="40" width="50" height="12" uuid="90bd3b85-e1b4-4dc1-9a3a-6dda1387acc4"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[HASTA  EL:]]></text>
			</staticText>
			<staticText>
				<reportElement x="8" y="40" width="50" height="12" uuid="76318d55-0963-4ac9-8b20-4a2427499616"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DESDE EL:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="62" y="40" width="50" height="13" uuid="178eb505-0544-4eca-b2f8-055bf9b5e558"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaI}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="176" y="40" width="41" height="12" uuid="fd2df1dc-36b3-479d-a1f1-c7a8d20f46af"/>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaF}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField>
				<reportElement x="68" y="2" width="168" height="10" uuid="6c29d597-45a5-4290-979e-5effc8426872"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombreproducto}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="246" y="2" width="40" height="10" uuid="a5a628bc-2a7f-4a7b-bbfb-736b51b4b46c"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="369" y="2" width="22" height="10" uuid="235cb472-adbc-4d44-8c58-678bc5844aa3"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{porcentaje}]]></textFieldExpression>
			</textField>
			<textField pattern="###0">
				<reportElement x="4" y="2" width="59" height="10" uuid="7a7e7b64-f34a-48a3-87f7-9ad791297140"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codprod}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="293" y="2" width="58" height="10" uuid="4cf78287-fb7a-4e86-a4ab-e801e5b91a48"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precio}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="477" y="2" width="69" height="10" uuid="ef7e11dd-9842-4b60-90f8-9124ea09b26b"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monto}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="400" y="2" width="58" height="10" uuid="f217bab9-5872-4507-a2bc-b6dfec142114"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{impiva}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="27" splitType="Stretch">
			<line>
				<reportElement x="0" y="1" width="549" height="1" uuid="360c4566-cad3-4f3e-a09a-46ede823e454"/>
			</line>
			<staticText>
				<reportElement x="263" y="8" width="77" height="15" uuid="c76b9e1f-5d33-43e7-a2e1-03c4db5c0bea"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Total General]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="26" width="549" height="1" uuid="75418185-b6d8-4582-a0cf-04d0b1eb8e89"/>
			</line>
			<textField pattern="#,##0.00">
				<reportElement x="477" y="7" width="69" height="12" uuid="41273154-6f43-489d-8626-820162ad0b71"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{total_6}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
