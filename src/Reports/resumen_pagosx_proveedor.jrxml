<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="resumen_pagosx_proveedor" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="bbbb92bd-902b-4c6e-9b99-70fd8d6740d3">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="FechaInicio" class="java.util.Date"/>
	<parameter name="FechaFinal" class="java.util.Date"/>
	<parameter name="cNombreEmpresa" class="java.lang.String"/>
	<parameter name="cNombreProveedor" class="java.lang.String"/>
	<parameter name="nProveedor" class="java.lang.String"/>
	<parameter name="nMoneda" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT pagos.numero,pagos.recibo,pagos.fecha,pagos.proveedor,proveedores.nombre AS nombrepro,pagos.totalpago,monedas.nombre AS nombremoneda,pagos.sucursal,sucursales.nombre AS nombresucursal
FROM pagos
LEFT JOIN proveedores
ON proveedores.codigo=pagos.proveedor
LEFT JOIN monedas
ON monedas.codigo=pagos.moneda
LEFT JOIN sucursales
ON sucursales.codigo=pagos.sucursal
WHERE pagos.fecha BETWEEN $P{FechaInicio} AND $P{FechaFinal}
AND IF($P{nProveedor}<>0,pagos.proveedor=$P{nProveedor},TRUE)
AND pagos.moneda=$P{nMoneda}
ORDER BY pagos.proveedor, pagos.fecha]]>
	</queryString>
	<field name="numero" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="recibo" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="proveedor" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombrepro" class="java.lang.String"/>
	<field name="totalpago" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombremoneda" class="java.lang.String"/>
	<field name="sucursal" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombresucursal" class="java.lang.String"/>
	<variable name="totalpago_1" class="java.math.BigDecimal" resetType="Group" resetGroup="proveedor" calculation="Sum">
		<variableExpression><![CDATA[$F{totalpago}]]></variableExpression>
	</variable>
	<variable name="totalpago_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{totalpago}]]></variableExpression>
	</variable>
	<group name="proveedor" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{proveedor}]]></groupExpression>
		<groupHeader>
			<band height="56">
				<staticText>
					<reportElement x="4" y="40" width="74" height="12" uuid="8754c578-969a-483c-994b-bf32b8cba6f7"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[N° Orden de Pagos]]></text>
				</staticText>
				<staticText>
					<reportElement x="470" y="38" width="32" height="12" uuid="63166913-c732-496e-a727-208a053b8113"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Moneda]]></text>
				</staticText>
				<staticText>
					<reportElement x="25" y="25" width="76" height="12" uuid="2ee84ba6-4cb7-4671-b3eb-114be4ad3ce1"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Datos de Proveedor]]></text>
				</staticText>
				<line>
					<reportElement x="0" y="52" width="553" height="1" uuid="78eeeec0-c075-477b-a58e-eb01ce6ea097"/>
				</line>
				<staticText>
					<reportElement x="165" y="39" width="26" height="12" uuid="6fe7bd7a-9a47-4c53-aca4-81d22b3ebb5e"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Fecha]]></text>
				</staticText>
				<staticText>
					<reportElement x="236" y="39" width="86" height="12" uuid="c43981f0-842d-420b-b229-b7f9f9bad718"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Nombre de Proveedor]]></text>
				</staticText>
				<staticText>
					<reportElement x="408" y="38" width="44" height="12" uuid="2a381aee-d9a9-475a-abf6-e318d89f5e4c"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Total Pago]]></text>
				</staticText>
				<line>
					<reportElement x="1" y="21" width="554" height="1" uuid="c4417fea-5fb0-41d3-9786-859608a6ed53"/>
				</line>
				<staticText>
					<reportElement x="92" y="40" width="51" height="12" uuid="16c27e4d-d005-4d5d-a0f5-11521c30693e"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[N° de Recibo]]></text>
				</staticText>
				<textField>
					<reportElement x="4" y="5" width="145" height="12" uuid="97d35338-15ad-4ab3-84a7-4bd13e165830"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nombrepro}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="2" y="1" width="554" height="1" uuid="46bff230-12e1-4cb6-ba23-a655f526f786"/>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="19">
				<line>
					<reportElement x="1" y="1" width="553" height="1" uuid="1b2ba64f-99c8-433b-910f-8bd9d49c4bfd"/>
				</line>
				<textField>
					<reportElement x="3" y="4" width="234" height="12" uuid="787672a8-dd85-4098-bc69-47e21ce63abd"/>
					<textElement>
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA["Subtotales: "+$F{nombrepro}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00">
					<reportElement x="380" y="5" width="76" height="10" uuid="1e95f0c5-f5ea-402b-900c-2fe0ac861f14"/>
					<textElement textAlignment="Right">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{totalpago_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="56" splitType="Stretch">
			<staticText>
				<reportElement x="5" y="25" width="202" height="16" uuid="af49efc8-e8fe-45ef-83ad-effd0e128080"/>
				<textElement textAlignment="Justified">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Resumen de Pagos por Proveedor]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="6" y="5" width="180" height="16" uuid="b9b77e67-08e4-4cb4-99a6-86a6fcc1e95b"/>
				<textElement>
					<font fontName="Arial" size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{cNombreEmpresa}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="131" y="43" width="50" height="12" uuid="ceae71fa-e1fa-4093-8cc0-f872ace8e00b"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[HASTA  EL:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="184" y="43" width="41" height="13" uuid="dc816bbd-0f6c-4faa-9fa6-1eafb1a4dec7"/>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaFinal}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="50" y="43" width="50" height="12" uuid="5d61d605-75b3-48c9-b5d7-da2289996bbc"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FechaInicio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="431" y="9" width="114" height="12" uuid="423c236e-aec4-45fc-9a6b-7dab2acd4071"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="5" y="43" width="45" height="12" uuid="c6cdbbec-da08-4ecb-a472-513f0242670d"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DESDE EL:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="390" y="3" width="65" height="10" uuid="3f7d2a7c-dd16-4aa1-8247-26dd39c1c6c7"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{totalpago}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="15" y="3" width="61" height="10" uuid="c555a05d-bf49-47ba-a3f7-de64c3752dbe"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{numero}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="212" y="3" width="178" height="10" uuid="4665e42b-947f-4879-a6a9-7c705513e184"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombrepro}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="149" y="3" width="58" height="10" uuid="a87f60a9-6539-4606-962d-3a8ddb2e270d"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="92" y="3" width="51" height="10" uuid="579490e3-3d0c-4c7d-bad7-e5c7944dd3c6"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{recibo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="464" y="3" width="84" height="10" uuid="97b2ec77-b275-4ae0-9798-35b707d8c1e3"/>
				<textElement textAlignment="Justified">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nombremoneda}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="51" splitType="Stretch">
			<line>
				<reportElement x="2" y="0" width="553" height="1" uuid="b8ab1d10-ac89-41df-acb9-273fbc7c8d5a"/>
			</line>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="138" y="15" width="86" height="12" uuid="b0d6ef03-522b-4d6d-8e08-a7443d25f81a"/>
				<textElement>
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="2" y="15" width="131" height="12" uuid="28794862-49b4-4b0b-aefa-6298ffdc21e5"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Fin del Informe / Impreso el]]></text>
			</staticText>
			<line>
				<reportElement x="1" y="37" width="554" height="1" uuid="8faaaeea-e0d1-4555-8440-b144cc0c2ac0"/>
			</line>
			<staticText>
				<reportElement x="242" y="16" width="96" height="12" uuid="c5a4ccc2-00cd-430d-ae6c-d5a137e05637"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total General de Pagos]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="375" y="16" width="81" height="10" uuid="1bcb0773-2479-4198-88cb-caa7fbfb59bf"/>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{totalpago_2}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
